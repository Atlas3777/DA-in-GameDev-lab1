# Работа #2. Нужно больше золота
Отчет по лабораторной работе #2 выполнил:
- Афонасьев Артём Ильич
- РИ-230948
Отметка о выполнении заданий:

| Задание | Выполнение | Баллы |
| ------ | ------ | ------ |
| Задание 1 | * | 0 |
| Задание 2 | * | 0 |
| Задание 3 | * | 0 |

знак "*" - задание выполнено; знак "#" - задание не выполнено;

Работу проверили:
- к.т.н., доцент Денисов Д.В.
- к.э.н., доцент Панов М.А.
- ст. преп., Фадеев В.О.

[![N|Solid](https://cldup.com/dTxpPi9lDf.thumb.png)](https://nodesource.com/products/nsolid)

[![Build Status](https://travis-ci.org/joemccann/dillinger.svg?branch=master)](https://travis-ci.org/joemccann/dillinger)

Структура отчета

- Данные о работе: название работы, фио, группа, выполненные задания.
- Цель работы.
- Задание 1.
- Код реализации выполнения задания. Визуализация результатов выполнения.
- Задание 2.
- Код реализации выполнения задания. Визуализация результатов выполнения (если применимо).
- Задание 3.
- Код реализации выполнения задания. Визуализация результатов выполнения (если применимо).
- Выводы.
- ✨Magic ✨

## Цель работы
Научиться передавать в Unity данные из Google Sheets с помощью Python.

## Задание 1
  Выберите одну из игровых переменных в игре СПАСТИ РТФ: Выживание (HP, SP, игровая валюта, здоровье и т.д.), опишите её роль в игре, условия изменения / появления и диапазон допустимых значений. Постройте схему экономической модели в игре и укажите место выбранного ресурса в ней.
  
  
### Здоровье.

Здоровье — это показатель жизнеспособности персонажа. Если здоровье падает до 0, игра заканчивается, а волна обнуляется.
Условия изменения / появления:
#### Уменьшение:
- Удары зомби. Каждый удар отнимает 10 HP.

#### Восстановление:
- Покупка и использование аптечек.
- Вампиризм(навык).
- Регенерация(навык).
- Повышение макс. здоровья востанавливает здоровье до максимума.

#### Диапазон значений:
- Начальное здоровье: 30 HP (базовый уровень).
- Минимальное: 0(смерть)
- Максимальное: зависит от уровня прокачки макс. здоровья.

## Задание 2
С помощью скрипта на языке Python заполните google-таблицу данными, описывающими выбранную игровую переменную в игре “СПАСТИ РТФ:Выживание”. Средствами google-sheets визуализируйте данные в google-таблице (постройте график / диаграмму и пр.) для наглядного представления выбранной игровой величины. Опишите характер изменения этой величины, опишите недостатки в реализации этой величины (например, в игре может произойти условие наступления эксплойта) и предложите до 3-х вариантов модификации условий работы с переменной, чтобы сделать игровой опыт лучше.

```python
import gspread
import numpy as np
import random

# Подключение к Google Sheets
gc = gspread.service_account(filename='unitydatasience-445013-5a4a164d9ecf.json')
sh = gc.open("Workshop2")  # Название таблицы
worksheet = sh.worksheet('Лист2')

worksheet.clear()
worksheet.update('A1', 'Время')
worksheet.update('B1', 'Здоровье (HP)')
worksheet.update('C1', 'Макс. хп')
worksheet.update('D1', 'Событие')
worksheet.update('E1', 'Изменение HP')

max_hp = 30
hp = max_hp
regen_value = 5
vamp_value = 8

previous_hp = max_hp
time_steps = 20  # Количество временных шагов
hp_changes = []  # Для записи изменений здоровья

data = []
event_weights = {
    "зомби": 40,       # 50% шанса
    "аптечка": 10,     # 30% шанса
    "вампиризм": 5,   # 15% шанса
    "ничего": 5,        # 5% шанса
    "увелечение макс. хп": 20,
    "регенерация": 20
}
events = list(event_weights.keys())
weights = list(event_weights.values())

for t in range(1, time_steps + 1):
    event = random.choices(events, weights=weights, k=1)[0]
    if event == "зомби":
        damage = 10  # Урон от зомби
        hp = max(0, hp - damage)  # HP не может быть меньше 0
    elif event in "аптечка":
        hp = max_hp
    elif event == "увелечение макс. хп":
        max_hp += 10
        hp = max_hp
    elif event == "регенерация":
        hp = min(max_hp, hp + regen_value)
    elif event == "вампиризм":
        hp = min(max_hp, hp + vamp_value)

    delta_hp = hp - previous_hp
    previous_hp = hp

    data.append([t, hp, max_hp, str(event), delta_hp])
worksheet.update('A2',data)
print(f"Данные успешно записаны в таблицу: {sh.url}")

```
![image](https://github.com/user-attachments/assets/a8d32d64-1c83-4a6b-9318-c5fb345a5b8b)

### Характер изменения величины:
##### Динамика здоровья:

- Здоровье снижается скачками при атаках зомби.
- Восстановление происходит периодически через аптечки или вампиризм, но в зависимости от их доступности.
- Если зомби атакуют часто, здоровье может быстро достигать 0, что создаёт высокий риск.
##### Недостатки реализации:

- Эксплойт: Игрок может полагаться только на вампиризм и намеренно избегать покупок аптечек, что ломает баланс.
- Перегрузка аптечками: Игрок может накопить много аптечек и восстанавливать здоровье мгновенно, избегая реального риска.
- Нечёткий баланс: Урон зомби может быть слишком слабым или слишком сильным, что делает игру либо скучной, либо слишком сложной.

### Модификации для улучшения:
###### Ограничение на использование аптечек:
- Ввести время восстановления между применениями (например, 10 секунд).
###### Балансировка вампиризма:
- Установить фиксированный процент восстановления здоровья (например, 5–10% от урона).
###### Прогрессия сложности:
- Увеличивать урон зомби по мере увеличения волн, чтобы здоровье игрока стало более ценной переменной.

## Выводы

В этой работе я установил нужное програмное обеспечение и поразмышлял каких ML-агентов можно добавить в игру "СПАСИТИ РТФ : Выживание"

| Plugin | README |
| ------ | ------ |
| GitHub | [plugins/github/README.md][PlGh] |

## Powered by

**BigDigital Team: Denisov | Fadeev | Panov**
